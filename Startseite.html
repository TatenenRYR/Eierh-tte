
<!DOCTYPE html><html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RadlMap</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    * { box-sizing: border-box; }
    body, html { margin: 0; padding: 0; font-family: system-ui, sans-serif; height: 100%; display: flex; flex-direction: column; }header {
  position: relative;
  background: linear-gradient(to top, #7ec8f7, #cdefff);
  text-align: center;
  padding: 2rem 1rem 6rem;
  color: #fff;
  text-shadow: 1px 1px 6px rgba(0,0,0,0.6);
  overflow: hidden;
}
    header {
  position: relative;
  background: linear-gradient(to top, #7ec8f7, #cdefff);
  text-align: center;
  padding: 2rem 1rem 6rem;
  color: #fff;
  text-shadow: 1px 1px 6px rgba(0,0,0,0.6);
  overflow: hidden;
  min-height: 200px;
  height: auto;
}

header h1, header p {
  position: relative;
  z-index: 5; /* Standard √ºber Wolken */
}

.cloud {
  position: absolute;
  top: 20px;
  background-repeat: no-repeat;
  background-size: contain;
  image-rendering: pixelated;
  opacity: 0.9;
  animation: cloud-move linear infinite;
}
@keyframes cloud-move {
  from { left: -200px; }
  to { left: 110%; }
}
main { flex: 1; padding: 1rem; }
h2 { text-align: center; color: #0077b6; margin: 2rem 0 1rem; }

.huts-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}
.card {
  background: #fff;
  border-radius: 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  overflow: hidden;
  border: 3px solid #7BBF42;
  transition: transform .2s;
  cursor: pointer;
}
.card:hover { transform: scale(1.03); }
.card img { width: 100%; height: 180px; object-fit: cover; }
.info { padding: 1rem; }
.info h3 { margin: 0 0 .5rem; color: #0077b6; }
.details { font-size: .9rem; color: #555; }

/* Instagram Vorschau */
#instagram-feed {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 8px;
  max-width: 600px;
  margin: 0 auto;
}
#instagram-feed img {
  width: 100%;
  aspect-ratio: 1/1;
  object-fit: cover;
  border-radius: 8px;
  transition: transform .3s;
}
#instagram-feed img:hover { transform: scale(1.05); }
.insta-btn {
  display: inline-block;
  background: #E4405F;
  color: #fff;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: bold;
  margin-top: 1rem;
  text-decoration: none;
}

footer {
  background: url('wiese (1).png') repeat-x bottom;
  background-size: contain;
  padding: 2rem 1rem 4rem;
  text-align: center;
  font-size: .9rem;
  color: #333;
  position: relative;
  overflow: hidden;
}
footer a { color: #0077b6; text-decoration: none; font-weight: bold; }

/* Radfahrer */
.rider {
  position: absolute;
  bottom: 20px; /* Basiswert, wird per JS angepasst */
  background-repeat: no-repeat;
  background-size: contain;
  background-position: center;
  image-rendering: pixelated;
  animation: ride linear infinite;
  pointer-events: none;
}
@keyframes ride {
  from { left: -120px; }
  to { left: 110%; }
}

/* Popup */
#hut-popup {
  display: none;
  flex-direction: column;
  justify-content: flex-end;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  z-index: 5000;
}
#hut-popup-content {
  background: white;
  border-radius: 1rem 1rem 0 0;
  padding: 1rem;
  max-width: 500px;
  width: 100%;
  margin: auto;
  transform: translateY(100%);
  transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative;
  max-height: 90vh;
  overflow-y: auto;
}
#hut-popup-close {
  position: sticky;
  top: 0;
  background: #fff;
  padding: 8px;
  font-size: 1.5rem;
  cursor: pointer;
  z-index: 10;
  text-align: right;
  display: block;
}

/* Mobile Anpassung Popup */
@media (max-width: 768px) {
  #hut-popup-content {
    border-radius: 0;
    max-width: 100%;
    height: 100%;
    transform: translateY(100%);
  }
}
.navbar {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 12px;
  background: #7BBF42;
  padding: 10px;
  border-top: 3px solid #333;
  border-bottom: 3px solid #333;
}

.navbar button {
  font-family: monospace, sans-serif;
  background: #fff;
  color: #333;
  padding: 10px 16px;
  border: 3px solid #333;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 3px 3px 0px #333;
  transition: transform 0.2s, background 0.3s;
}

.navbar button:hover {
  background: #0077b6;
  color: #fff;
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0px #222;
}

.navbar button:active {
  transform: translate(2px, 2px);
  box-shadow: 1px 1px 0px #000;
}
  </style>
</head>
<body>
  <header>
  <h1>RadlMap ‚Äì Fahrrad App f√ºr H√ºtten & Hofl√§den</h1>
  <p>Entdecke regionale Eierh√ºtten, Hofl√§den und Fahrradstopps direkt auf deiner Tour.</p>
</header>
  <div class="navbar">
  <button onclick="location.href='https://radlmap.de'">üö≤ Zur RadlMap</button>
  <button onclick="location.href='neue-huette.html'">‚ûï Neue H√ºtte eintragen</button>
  <button onclick="location.href='https://kickstarter.com/'">üíö Kickstarter unterst√ºtzen</button>
  </div>
  <main>
  <h2>So funktioniert RadlMap</h2>
  <p style="max-width:700px; margin:0 auto; text-align:center;">
    Mit RadlMap findest du regionale Eierh√ºtten, Hofl√§den und Fahrradstopps in deiner N√§he. 
    Plane deine Fahrradtouren, entdecke neue Orte und genie√üe deine Pausen unterwegs.
  </p>

  <div id="adsense-container" style="margin:20px auto; text-align:center; display:none;">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-2577915567428766"
       data-ad-slot="3060614235"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
    </div>

  <h2>Unsere neuesten H√ºtten</h2>
  <div class="huts-container" id="huts-container"></div>

    <div id="adsense-container" style="margin:20px auto; text-align:center; display:none;">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-2577915567428766"
       data-ad-slot="3060614235"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
    </div>
  

    

  <h2>Instagram News</h2>
  <div style="max-width:600px; margin:0 auto; text-align:center;">
    <blockquote 
      class="instagram-media" 
      data-instgrm-permalink="https://www.instagram.com/radlmap/" 
      data-instgrm-version="14"
      style="margin:auto; width:100%; max-width:540px; background:#fff; border-radius:12px;">
    </blockquote>
  </div>

  <script async src="https://www.instagram.com/embed.js"></script>
</main>
  
  <!-- Popup --><div id="hut-popup">
  <div id="hut-popup-content">
    <span id="hut-popup-close">‚úñ</span>
    <h3 id="popup-name"></h3>
    <div class="popup-image-container" id="popup-images"></div>
    <div id="popup-map" style="height:200px; border-radius:1rem; margin-bottom:1rem;"></div>
    <p><b>√ñffnungszeiten:</b> <span id="popup-oeffnungszeiten"></span></p>
    <p><b>Strom:</b> <span id="popup-strom"></span></p>
    <p><b>Sitzpl√§tze:</b> <span id="popup-sitzplaetze"></span></p>
    <p><b>Extras:</b> <span id="popup-extras"></span></p>
    <p><b>Start:</b> <span id="popup-start"></span></p>
  </div>
</div>
  <footer>
  ¬© 2025 RadlMap | Mit dem Fahrrad die Region entdecken <br>
  <a href="mein-profil.html">üë§ Mein Profil</a> | 
  <a href="impressum.html">Impressum</a> | 
  <a href="datenschutz.html">Datenschutz</a>
  </footer>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script><script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script><script>
// Firebase Setup
const firebaseConfig = {
  apiKey: "AIzaSyAu39z49KEJy9zso-etFIScmaFnWw8vhro",
  authDomain: "eierhuettentour.firebaseapp.com",
  projectId: "eierhuettentour",
  storageBucket: "eierhuettentour.appspot.com",
  messagingSenderId: "348272135205",
  appId: "1:348272135205:web:f39a7d26d927fbf28dc3cc",
  measurementId: "G-16V6K5GXDT"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// H√ºtten laden (3 neueste)
const container = document.getElementById("huts-container");
db.collection("eierhuetten")
  .orderBy("aboStart","desc")
  .limit(3)
  .onSnapshot(snap => {
    container.innerHTML = "";
    let index = 1;
    snap.forEach(doc => {
      const d = doc.data();
      if (!d.location || d.status != "angenommen") return;

      const bilderUrls = (d.fotos || []).map(f => typeof f === 'string' ? f : f.url);
      const erstesBild = bilderUrls[0] || "https://via.placeholder.com/320x180?text=Keine+Fotos";
      
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <img src="${erstesBild}" loading="lazy" style="width:100%; height:180px; object-fit:cover;">
        <div class="info">
          <h3>${index}. ${d.name || "Unbenannt"}</h3>
          <div class="details">
            <span><b>√ñffnungszeiten:</b> ${d.oeffnungszeiten || "-"}</span><br>
            <span><b>Strom:</b> ${d.strom === "Ja" ? "‚ö° Ja" : "‚ùå Nein"}</span><br>
            <span><b>Sitzpl√§tze:</b> ${d.sitzplaetze === "Ja" ? "‚úÖ Ja" : "‚ùå Nein"}</span><br>
            <span><b>Extras:</b> ${d.extras || "‚Äì"}</span><br>
            <span><b>Start:</b> ${d.aboStart?.toDate?.().toLocaleDateString("de-DE") || "-"}</span>
          </div>
        </div>
      `;
      card.onclick = () => openHutPopup(d, bilderUrls);
      container.appendChild(card);
      index++;
    });
  });

// Popup Funktionen
function renderSlideshow(container, bilderUrls) {
  if (!bilderUrls || bilderUrls.length === 0) {
    container.innerHTML = `<div style="height:140px; background:#ccc; display:flex; align-items:center; justify-content:center; border-radius:8px;">Kein Bild</div>`;
    return;
  }
  let index = 0;
  function updateImage() {
    container.innerHTML = `
      <img src="${bilderUrls[index]}" style="width:100%; border-radius:1rem; max-height:200px; object-fit:cover;">
      ${bilderUrls.length > 1 ? `
        <button class="left">‚Üê</button>
        <button class="right">‚Üí</button>
      ` : ""}
    `;
    if (bilderUrls.length > 1) {
      container.querySelector(".left").onclick = () => { index = (index - 1 + bilderUrls.length) % bilderUrls.length; updateImage(); };
      container.querySelector(".right").onclick = () => { index = (index + 1) % bilderUrls.length; updateImage(); };
    }
  }
  updateImage();
}

function openHutPopup(d, bilderUrls) {
  const popup = document.getElementById("hut-popup");
  const content = document.getElementById("hut-popup-content");
  popup.style.display = "flex";
  setTimeout(() => { content.style.transform = "translateY(0)"; }, 50);

  document.getElementById("popup-name").textContent = d.name || "Unbenannt";
  document.getElementById("popup-oeffnungszeiten").textContent = d.oeffnungszeiten || "-";
  document.getElementById("popup-strom").textContent = d.strom === "Ja" ? "‚úÖ Ja" : "‚ùå Nein";
  document.getElementById("popup-sitzplaetze").textContent = d.sitzplaetze === "Ja" ? "‚úÖ Ja" : "‚ùå Nein";
  document.getElementById("popup-extras").textContent = d.extras || "‚Äì";
  document.getElementById("popup-start").textContent = d.aboStart?.toDate?.().toLocaleDateString("de-DE") || "-";

  renderSlideshow(document.getElementById("popup-images"), bilderUrls);
}

function closeHutPopup() {
  const popup = document.getElementById("hut-popup");
  const content = document.getElementById("hut-popup-content");
  content.style.transform = "translateY(100%)";
  setTimeout(() => { popup.style.display = "none"; }, 400);
}

// Close Events
 document.getElementById("hut-popup-close").onclick = closeHutPopup;
 document.getElementById("hut-popup").onclick = e => { if (e.target.id === "hut-popup") closeHutPopup(); };


/* Wolken animieren */
const cloudShapes = ["cloud1.png","cloud2.png","cloud3.png"];
for (let i = 0; i < 6; i++) {
  const cloud = document.createElement("div");
  cloud.className = "cloud";

  const size = 60 + Math.random()*100;
  cloud.style.width = size + "px";
  cloud.style.height = size * 0.6 + "px";
  cloud.style.top = Math.random() * 100 + "px";
  cloud.style.left = "-200px";
  cloud.style.backgroundImage = `url(${cloudShapes[Math.floor(Math.random()*cloudShapes.length)]})`;
  cloud.style.animationDuration = 30 + Math.random()*40 + "s";
  cloud.style.animationDelay = (-Math.random()*40) + "s";

  // NEU: Wolken mal vor, mal hinter der Schrift
  cloud.style.zIndex = Math.random() > 0.5 ? "10" : "1";

  document.querySelector("header").appendChild(cloud);
    }
// Radfahrer animieren
// Radfahrer animieren
const riderSprites = ["radler1.png","radler2.png","radler3.png"];
for (let i = 0; i < 6; i++) {
  const rider = document.createElement("div");
  rider.className = "rider";

  // Gr√∂√üe zwischen 50‚Äì80px (nicht mehr so extrem)
  const size = 50 + Math.random()*30;
  rider.style.width = size + "px";
  rider.style.height = size + "px";
  rider.style.backgroundImage = `url(${riderSprites[Math.floor(Math.random()*riderSprites.length)]})`;

  // Animation
  rider.style.animationDuration = 12 + Math.random()*10 + "s";
  rider.style.animationDelay = (-Math.random()*15) + "s";

  // Tiefer & vorne, wenn gro√ü | h√∂her & hinten, wenn klein
  if (size > 65) {
    rider.style.bottom = "10px";   // n√§her am Boden
    rider.style.zIndex = 20;       // ganz vorne
  } else {
    rider.style.bottom = "30px";   // etwas h√∂her
    rider.style.zIndex = 5;        // weiter hinten
    rider.style.opacity = 0.8;     // leicht transparenter
  }

  document.querySelector("footer").appendChild(rider);
}
</script></body>
</html>
